<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IntelliQuant - AI-Powered Portfolio Management on Monad</title>
    <link rel="stylesheet" href="../src/styles/main.css" />
  </head>
  <body>
    <div id="app">
      <!-- Header -->
      <header class="header">
        <div class="container">
          <div class="header-content">
            <div class="logo">
              <h1>IntelliQuant</h1>
              <p class="tagline">AI-Powered Portfolio Management</p>
            </div>
            <div class="header-actions">
              <span id="networkBadge" class="network-badge">Monad Testnet</span>
              <button id="connectBtn" class="btn btn-primary">
                Connect Wallet
              </button>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main">
        <div class="container">
          <!-- Connection Section -->
          <section id="connectSection" class="section">
            <div class="card welcome-card">
              <h2>Welcome to IntelliQuant</h2>
              <p>
                Connect your MetaMask wallet to get started with AI-powered
                portfolio management on Monad testnet.
              </p>
              <ul class="features-list">
                <li>AI Token Health Scoring (0-100)</li>
                <li>Portfolio Risk Analysis</li>
                <li>Smart Money Tracking</li>
                <li>Automated Rebalancing with MetaMask Smart Accounts</li>
                <li>Gasless Transactions</li>
              </ul>
              <button id="connectWalletBtn" class="btn btn-lg btn-primary">
                Connect MetaMask
              </button>
            </div>
          </section>

          <!-- Smart Account Section -->
          <section id="accountSection" class="section hidden">
            <div class="card">
              <h2>Smart Account</h2>
              <div id="accountStatus" class="status-grid">
                <div class="status-item">
                  <span class="label">EOA Address:</span>
                  <span id="eoaAddress" class="value">-</span>
                </div>
                <div class="status-item">
                  <span class="label">Smart Account:</span>
                  <span id="smartAccountAddress" class="value">-</span>
                </div>
                <div class="status-item">
                  <span class="label">Status:</span>
                  <span id="deploymentStatus" class="value">-</span>
                </div>
                <div class="status-item">
                  <span class="label">Balance:</span>
                  <span id="accountBalance" class="value">-</span>
                </div>
              </div>
              <div class="action-buttons">
                <button id="createSmartAccountBtn" class="btn btn-secondary">
                  Create Smart Account
                </button>
                <button id="refreshBalanceBtn" class="btn btn-secondary">
                  Refresh Balance
                </button>
              </div>
            </div>
          </section>

          <!-- Token Scores Section -->
          <section id="scoresSection" class="section hidden">
            <div class="card">
              <h2>Token Health Scores</h2>
              <p>Enter token addresses to analyze (comma-separated):</p>
              <div class="input-group">
                <input
                  type="text"
                  id="tokenAddressesInput"
                  placeholder="0x..., 0x..., 0x..."
                  class="input"
                />
                <button id="analyzeTokensBtn" class="btn btn-primary">
                  Analyze Tokens
                </button>
              </div>
              <div id="tokenScoresResults" class="results">
                <!-- Token scores will be inserted here -->
              </div>
            </div>
          </section>

          <!-- Portfolio Section -->
          <section id="portfolioSection" class="section hidden">
            <div class="card">
              <h2>Portfolio Analysis</h2>
              <div class="action-buttons">
                <button id="loadPortfolioBtn" class="btn btn-primary">
                  Load My Portfolio
                </button>
                <button id="analyzeRiskBtn" class="btn btn-secondary">
                  Analyze Risk
                </button>
              </div>
              <div id="portfolioResults" class="results">
                <!-- Portfolio data will be inserted here -->
              </div>
            </div>
          </section>

          <!-- Delegations Section -->
          <section id="delegationsSection" class="section hidden">
            <div class="card">
              <h2>Trading Delegations</h2>
              <p>Create delegated trading permissions with security caveats.</p>

              <div class="form-group">
                <label for="delegateAddress"
                  >Delegate Address (AI Agent):</label
                >
                <input
                  type="text"
                  id="delegateAddress"
                  placeholder="0x..."
                  class="input"
                />
              </div>

              <div class="form-group">
                <label for="maxTransfer">Max Native Transfer (MON):</label>
                <input
                  type="number"
                  id="maxTransfer"
                  value="5"
                  step="0.1"
                  class="input"
                />
              </div>

              <div class="form-group">
                <label for="maxCalls">Max Number of Calls:</label>
                <input type="number" id="maxCalls" value="20" class="input" />
              </div>

              <div class="action-buttons">
                <button id="createDelegationBtn" class="btn btn-primary">
                  Create Delegation
                </button>
                <button
                  id="createMinimalDelegationBtn"
                  class="btn btn-secondary"
                >
                  Create Test Delegation
                </button>
              </div>

              <div id="delegationResults" class="results">
                <!-- Delegation results will be inserted here -->
              </div>
            </div>
          </section>

          <!-- Recommendations Section -->
          <section id="recommendationsSection" class="section hidden">
            <div class="card">
              <h2>AI Recommendations</h2>
              <p>
                Get AI-powered trading recommendations based on health scores
                and smart money activity.
              </p>
              <div class="input-group">
                <input
                  type="text"
                  id="recommendTokensInput"
                  placeholder="Token addresses (comma-separated)"
                  class="input"
                />
                <button id="getRecommendationsBtn" class="btn btn-primary">
                  Get Recommendations
                </button>
              </div>
              <div id="recommendationsResults" class="results">
                <!-- Recommendations will be inserted here -->
              </div>
            </div>
          </section>

          <!-- Test Transaction Section -->
          <section id="testTransactionSection" class="section hidden">
            <div class="card">
              <h2>Test Gasless Transaction</h2>
              <p>
                Send a test transaction using your smart account (gasless via
                paymaster).
              </p>

              <div class="form-group">
                <label for="testRecipient">Recipient Address:</label>
                <input
                  type="text"
                  id="testRecipient"
                  placeholder="0x..."
                  class="input"
                />
              </div>

              <div class="form-group">
                <label for="testAmount">Amount (MON):</label>
                <input
                  type="number"
                  id="testAmount"
                  value="0.001"
                  step="0.001"
                  class="input"
                />
              </div>

              <button id="sendTestTxBtn" class="btn btn-primary">
                Send Gasless Transaction
              </button>

              <div id="transactionResults" class="results">
                <!-- Transaction results will be inserted here -->
              </div>
            </div>
          </section>
        </div>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <div class="container">
          <p>
            &copy; 2025 IntelliQuant | Built for MetaMask Smart Accounts x Monad
            x Envio Hackathon
          </p>
          <p>
            Powered by MetaMask Delegation Toolkit, Envio HyperIndex, and Monad
            Testnet
          </p>
        </div>
      </footer>

      <!-- Loading Overlay -->
      <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="spinner"></div>
        <p id="loadingMessage">Loading...</p>
      </div>
    </div>

    <script type="module" src="../src/index.js"></script>
  </body>
</html>
